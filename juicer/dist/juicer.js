define("gallery/juicer/0.6.4/juicer-debug",[],function(c,a,d){var f=function(){var h=[].slice.call(arguments);h.push(f.options);if(h[0].match(/^\s*#([\w:\-\.]+)\s*$/igm)){h[0].replace(/^\s*#([\w:\-\.]+)\s*$/igm,function(k,l){var i=document;var j=i&&i.getElementById(l);h[0]=j?(j.value||j.innerHTML):k;});}if(arguments.length==1){return f.compile.apply(f,h);}if(arguments.length>=2){return f.to_html.apply(f,h);}};var g={escapehash:{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","/":"&#x2f;"},escapereplace:function(h){return g.escapehash[h];},escaping:function(h){return typeof(h)!=="string"?h:h.replace(/[&<>"]/igm,this.escapereplace);},detection:function(h){return typeof(h)==="undefined"?"":h;}};var e=function(h){if(typeof(console)!=="undefined"){if(console.warn){console.warn(h);return;}if(console.log){console.log(h);return;}}throw (h);};var b=function(l,j){l=l!==Object(l)?{}:l;if(l.__proto__){l.__proto__=j;return l;}var k=function(){};var m=Object.create?Object.create(j):new (k.prototype=j,k);for(var h in l){if(l.hasOwnProperty(h)){m[h]=l[h];}}return m;};f.__cache={};f.version="0.6.4-stable";f.settings={};f.tags={operationOpen:"{@",operationClose:"}",interpolateOpen:"\\${",interpolateClose:"}",noneencodeOpen:"\\$\\${",noneencodeClose:"}",commentOpen:"\\{#",commentClose:"\\}"};f.options={cache:true,strip:true,errorhandling:true,detection:true,_method:b({__escapehtml:g,__throw:e,__juicer:f},{})};f.tagInit=function(){var i=f.tags.operationOpen+"each\\s*([^}]*?)\\s*as\\s*(\\w*?)\\s*(,\\s*\\w*?)?"+f.tags.operationClose;var k=f.tags.operationOpen+"\\/each"+f.tags.operationClose;var l=f.tags.operationOpen+"if\\s*([^}]*?)"+f.tags.operationClose;var m=f.tags.operationOpen+"\\/if"+f.tags.operationClose;var q=f.tags.operationOpen+"else"+f.tags.operationClose;var r=f.tags.operationOpen+"else if\\s*([^}]*?)"+f.tags.operationClose;var n=f.tags.interpolateOpen+"([\\s\\S]+?)"+f.tags.interpolateClose;var o=f.tags.noneencodeOpen+"([\\s\\S]+?)"+f.tags.noneencodeClose;var p=f.tags.commentOpen+"[^}]*?"+f.tags.commentClose;var j=f.tags.operationOpen+"each\\s*(\\w*?)\\s*in\\s*range\\(([^}]+?)\\s*,\\s*([^}]+?)\\)"+f.tags.operationClose;var h=f.tags.operationOpen+"include\\s*([^}]*?)\\s*,\\s*([^}]*?)"+f.tags.operationClose;f.settings.forstart=new RegExp(i,"igm");f.settings.forend=new RegExp(k,"igm");f.settings.ifstart=new RegExp(l,"igm");f.settings.ifend=new RegExp(m,"igm");f.settings.elsestart=new RegExp(q,"igm");f.settings.elseifstart=new RegExp(r,"igm");f.settings.interpolate=new RegExp(n,"igm");f.settings.noneencode=new RegExp(o,"igm");f.settings.inlinecomment=new RegExp(p,"igm");f.settings.rangestart=new RegExp(j,"igm");f.settings.include=new RegExp(h,"igm");};f.tagInit();f.set=function(j,m){var l=this;var h=function(i){return i.replace(/[\$\(\)\[\]\+\^\{\}\?\*\|\.]/igm,function(o){return"\\"+o;});};var n=function(o,p){var i=o.match(/^tag::(.*)$/i);if(i){l.tags[i[1]]=h(p);l.tagInit();return;}l.options[o]=p;};if(arguments.length===2){n(j,m);return;}if(j===Object(j)){for(var k in j){if(j.hasOwnProperty(k)){n(k,j[k]);}}}};f.register=function(j,i){var h=this.options._method;if(h.hasOwnProperty(j)){return false;}return h[j]=i;};f.unregister=function(i){var h=this.options._method;if(h.hasOwnProperty(i)){return delete h[i];}};f.template=function(h){var i=this;this.options=h;this.__interpolate=function(j,o,l){var k=j.split("|"),n=k[0]||"",m;if(k.length>1){j=k.shift();m=k.shift().split(",");n="_method."+m.shift()+".call({}, "+[j].concat(m)+")";}return"<%= "+(o?"_method.__escapehtml.escaping":"")+"("+(!l||l.detection!==false?"_method.__escapehtml.detection":"")+"("+n+")) %>";};this.__removeShell=function(k,j){var l=0;k=k.replace(f.settings.forstart,function(q,n,p,o){var p=p||"value",o=o&&o.substr(1);var m="i"+l++;return"<% ~function() {for(var "+m+" in "+n+") {if("+n+".hasOwnProperty("+m+")) {var "+p+"="+n+"["+m+"];"+(o?("var "+o+"="+m+";"):"")+" %>";}).replace(f.settings.forend,"<% }}}(); %>").replace(f.settings.ifstart,function(m,n){return"<% if("+n+") { %>";}).replace(f.settings.ifend,"<% } %>").replace(f.settings.elsestart,function(m){return"<% } else { %>";}).replace(f.settings.elseifstart,function(m,n){return"<% } else if("+n+") { %>";}).replace(f.settings.noneencode,function(n,m){return i.__interpolate(m,false,j);}).replace(f.settings.interpolate,function(n,m){return i.__interpolate(m,true,j);}).replace(f.settings.inlinecomment,"").replace(f.settings.rangestart,function(p,o,q,n){var m="j"+l++;return"<% ~function() {for(var "+m+"="+q+";"+m+"<"+n+";"+m+"++) {{var "+o+"="+m+"; %>";}).replace(f.settings.include,function(o,m,n){return"<%= _method.__juicer("+m+", "+n+"); %>";});if(!j||j.errorhandling!==false){k="<% try { %>"+k;k+='<% } catch(e) {_method.__throw("Juicer Render Exception: "+e.message);} %>';}return k;};this.__toNative=function(k,j){return this.__convert(k,!j||j.strip);};this.__lexicalAnalyze=function(m){var l=[];var q=[];var p="";var j=["if","each","_","_method","console","break","case","catch","continue","debugger","default","delete","do","finally","for","function","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","null","typeof","class","enum","export","extends","import","super","implements","interface","let","package","private","protected","public","static","yield","const","arguments","true","false","undefined","NaN"];var o=function(t,s){if(Array.prototype.indexOf&&t.indexOf===Array.prototype.indexOf){return t.indexOf(s);}for(var r=0;r<t.length;r++){if(t[r]===s){return r;}}return -1;};var k=function(s,r){r=r.match(/\w+/igm)[0];if(o(l,r)===-1&&o(j,r)===-1&&o(q,r)===-1){if(typeof(window)!=="undefined"&&typeof(window[r])==="function"&&window[r].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i)){return s;}if(typeof(global)!=="undefined"&&typeof(global[r])==="function"&&global[r].toString().match(/^\s*?function \w+\(\) \{\s*?\[native code\]\s*?\}\s*?$/i)){return s;}if(typeof(f.options._method[r])==="function"){q.push(r);return s;}l.push(r);}return s;};m.replace(f.settings.forstart,k).replace(f.settings.interpolate,k).replace(f.settings.ifstart,k).replace(f.settings.elseifstart,k).replace(f.settings.include,k).replace(/[\+\-\*\/%!\?\|\^&~<>=,\(\)]\s*([A-Za-z_]+)/igm,k);for(var n=0;n<l.length;n++){p+="var "+l[n]+"=_."+l[n]+";";}for(var n=0;n<q.length;n++){p+="var "+q[n]+"=_method."+q[n]+";";}return"<% "+p+" %>";};this.__convert=function(k,l){var j=[].join("");j+="'use strict';";j+="var _=_||{};";j+="var _out='';_out+='";if(l!==false){j+=k.replace(/\\/g,"\\\\").replace(/[\r\t\n]/g," ").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out;";return j;}j+=k.replace(/\\/g,"\\\\").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t").replace(/[\n]/g,"\\n").replace(/'(?=[^%]*%>)/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/<%=(.+?)%>/g,"';_out+=$1;_out+='").split("<%").join("';").split("%>").join("_out+='")+"';return _out.replace(/[\\r\\n]\\s+[\\r\\n]/g, '\\r\\n');";return j;};this.parse=function(k,j){var l=this;if(!j||j.loose!==false){k=this.__lexicalAnalyze(k)+k;}k=this.__removeShell(k,j);k=this.__toNative(k,j);this._render=new Function("_, _method",k);this.render=function(n,m){if(!m||m!==i.options._method){m=b(m,i.options._method);}return l._render.call(this,n,m);};return this;};};f.compile=function(i,h){if(!h||h!==this.options){h=b(h,this.options);}try{var j=this.__cache[i]?this.__cache[i]:new this.template(this.options).parse(i,h);if(!h||h.cache!==false){this.__cache[i]=j;}return j;}catch(k){e("Juicer Compile Exception: "+k.message);return{render:function(){}};}};f.to_html=function(i,j,h){if(!h||h!==this.options){h=b(h,this.options);}return this.compile(i,h).render(j,h._method);};return f;});